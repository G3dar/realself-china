<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Detailed financial breakdown for Real Self partnership - customize scenarios and export projections.">
    <title>Breakdown | Real Self</title>

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Space+Grotesk:wght@400;500;700&display=swap" rel="stylesheet">

    <!-- Styles -->
    <link rel="stylesheet" href="css/styles.css">

    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><rect fill='%23000' width='100' height='100'/><text y='.9em' font-size='90' fill='%23fff'>R</text></svg>">

    <style>
        /* Scenario Cards */
        .scenario-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: var(--spacing-xl);
            margin-bottom: var(--spacing-xl);
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
        }

        @media (max-width: 700px) {
            .scenario-grid {
                grid-template-columns: 1fr;
            }
        }

        .scenario-card {
            background: var(--color-gray-900);
            border: 2px solid var(--color-gray-700);
            padding: var(--spacing-2xl);
            position: relative;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .scenario-card:hover {
            border-color: var(--color-gray-500);
            transform: translateY(-4px);
        }

        .scenario-card.active {
            border-color: var(--color-white);
            background: var(--color-gray-800);
        }

        .scenario-card__header {
            text-align: center;
            padding-bottom: var(--spacing-xl);
            border-bottom: 1px solid var(--color-gray-700);
            margin-bottom: var(--spacing-xl);
        }

        .scenario-card__size {
            font-size: 0.75rem;
            font-weight: 600;
            letter-spacing: 0.15em;
            text-transform: uppercase;
            color: var(--color-gray-400);
            margin-bottom: var(--spacing-sm);
        }

        .scenario-card__capacity {
            font-family: var(--font-display);
            font-size: 3.5rem;
            font-weight: 700;
            line-height: 1;
        }

        .scenario-card__capacity span {
            font-size: 1.25rem;
            font-weight: 400;
            color: var(--color-gray-400);
        }

        .scenario-card__metric {
            margin-bottom: var(--spacing-lg);
        }

        .scenario-card__metric:last-child {
            margin-bottom: 0;
        }

        .scenario-card__label {
            font-size: 0.75rem;
            color: var(--color-gray-400);
            text-transform: uppercase;
            letter-spacing: 0.05em;
            margin-bottom: var(--spacing-xs);
        }

        .scenario-card__value {
            font-family: var(--font-display);
            font-size: 1.5rem;
            font-weight: 600;
        }

        .scenario-card__value--highlight {
            color: var(--color-white);
            font-size: 2rem;
        }

        .scenario-card__value--muted {
            color: var(--color-gray-300);
        }

        .scenario-card__divider {
            height: 1px;
            background: var(--color-gray-700);
            margin: var(--spacing-xl) 0;
        }

        .scenario-card__footer {
            text-align: center;
            padding-top: var(--spacing-lg);
            border-top: 1px solid var(--color-gray-700);
            margin-top: var(--spacing-xl);
        }

        .scenario-card__breakeven {
            font-size: 0.875rem;
            color: var(--color-gray-300);
        }

        .scenario-card__breakeven strong {
            color: var(--color-white);
        }

        /* Breakdown Grid */
        .breakdown-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: var(--spacing-2xl);
        }

        @media (max-width: 900px) {
            .breakdown-grid {
                grid-template-columns: 1fr;
            }
        }

        /* Breakdown Cards */
        .breakdown-card {
            background: var(--color-gray-900);
            border: 1px solid var(--color-gray-700);
            padding: var(--spacing-xl);
        }

        .breakdown-card__title {
            font-size: 0.75rem;
            font-weight: 600;
            letter-spacing: 0.1em;
            text-transform: uppercase;
            color: var(--color-gray-400);
            margin-bottom: var(--spacing-lg);
            padding-bottom: var(--spacing-md);
            border-bottom: 1px solid var(--color-gray-700);
        }

        /* Editable Values */
        .breakdown-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: var(--spacing-sm) 0;
            border-bottom: 1px solid var(--color-gray-800);
        }

        .breakdown-row:last-child {
            border-bottom: none;
        }

        .breakdown-row__label {
            font-size: 0.875rem;
            color: var(--color-gray-300);
        }

        .breakdown-row__value {
            font-family: var(--font-display);
            font-weight: 600;
            font-size: 1rem;
            text-align: right;
            min-width: 100px;
        }

        /* Slider row */
        .breakdown-row--slider {
            flex-wrap: wrap;
        }

        .breakdown-row--slider .breakdown-row__label {
            flex: 1;
        }

        .breakdown-row--slider .breakdown-row__value {
            min-width: 80px;
        }

        .breakdown-row__slider {
            width: 100%;
            display: flex;
            align-items: center;
            gap: var(--spacing-sm);
            margin-top: var(--spacing-xs);
            padding-top: var(--spacing-xs);
        }

        .breakdown-row__slider input[type="range"] {
            flex: 1;
            height: 4px;
            -webkit-appearance: none;
            appearance: none;
            background: var(--color-gray-700);
            border-radius: 2px;
            cursor: pointer;
        }

        .breakdown-row__slider input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 14px;
            height: 14px;
            background: var(--color-white);
            border-radius: 50%;
            cursor: pointer;
        }

        .breakdown-row__slider-label {
            font-size: 0.75rem;
            color: var(--color-gray-500);
            min-width: 45px;
            text-align: right;
        }

        /* Summary row (totals) */
        .breakdown-row--total {
            margin-top: var(--spacing-md);
            padding-top: var(--spacing-md);
            border-top: 2px solid var(--color-gray-600);
            border-bottom: none;
        }

        .breakdown-row--total .breakdown-row__label {
            font-weight: 600;
            color: var(--color-white);
        }

        .breakdown-row--total .breakdown-row__value {
            font-size: 1.25rem;
            color: var(--color-white);
        }

        /* Highlight row */
        .breakdown-row--highlight {
            background: var(--color-gray-800);
            margin: 0 calc(var(--spacing-xl) * -1);
            padding: var(--spacing-md) var(--spacing-xl);
        }

        .breakdown-row--highlight .breakdown-row__value {
            font-size: 1.5rem;
        }

        /* Results Summary */
        .results-summary {
            background: var(--color-gray-900);
            border: 2px solid var(--color-white);
            padding: var(--spacing-2xl);
            margin-top: var(--spacing-2xl);
        }

        .results-summary__grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: var(--spacing-xl);
            text-align: center;
        }

        @media (max-width: 768px) {
            .results-summary__grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        .results-summary__item-label {
            font-size: 0.75rem;
            color: var(--color-gray-400);
            text-transform: uppercase;
            letter-spacing: 0.05em;
            margin-bottom: var(--spacing-xs);
        }

        .results-summary__item-value {
            font-family: var(--font-display);
            font-size: 1.75rem;
            font-weight: 700;
        }

        /* Export button */
        .export-section {
            text-align: center;
            margin-top: var(--spacing-2xl);
        }

        /* Equipment table styling */
        .equipment-table {
            margin-top: var(--spacing-xl);
        }

        .equipment-table td:first-child {
            color: var(--color-gray-300);
        }

        .equipment-table .highlight-col {
            background: var(--color-gray-800);
            font-weight: 600;
        }

        /* Chart container */
        .chart-section {
            margin-top: var(--spacing-3xl);
        }

        .chart-container {
            background: var(--color-gray-900);
            border: 1px solid var(--color-gray-700);
            padding: var(--spacing-xl);
        }

        .chart-container__title {
            font-size: 0.75rem;
            font-weight: 600;
            letter-spacing: 0.1em;
            text-transform: uppercase;
            color: var(--color-gray-400);
            margin-bottom: var(--spacing-lg);
        }

        /* Variables Section */
        .variables-section {
            background: var(--color-gray-900);
            border: 1px solid var(--color-gray-700);
            padding: var(--spacing-xl) var(--spacing-2xl);
            margin-bottom: var(--spacing-2xl);
        }

        .variables-section__title {
            font-size: 0.75rem;
            font-weight: 600;
            letter-spacing: 0.15em;
            text-transform: uppercase;
            color: var(--color-gray-400);
            margin-bottom: var(--spacing-lg);
            text-align: center;
        }

        .variables-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: var(--spacing-2xl);
        }

        @media (max-width: 768px) {
            .variables-grid {
                grid-template-columns: 1fr;
            }
        }

        .variable-control {
            text-align: center;
        }

        .variable-control__label {
            font-size: 0.875rem;
            color: var(--color-gray-300);
            margin-bottom: var(--spacing-sm);
        }

        .variable-control__value {
            font-family: var(--font-display);
            font-size: 2.5rem;
            font-weight: 700;
            color: var(--color-white);
            margin-bottom: var(--spacing-md);
        }

        .variable-control__value span {
            font-size: 1rem;
            font-weight: 400;
            color: var(--color-gray-400);
        }

        .variable-control__slider {
            width: 100%;
            -webkit-appearance: none;
            appearance: none;
            height: 4px;
            background: var(--color-gray-700);
            border-radius: 2px;
            outline: none;
            cursor: pointer;
        }

        .variable-control__slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 20px;
            height: 20px;
            background: var(--color-white);
            border-radius: 50%;
            cursor: pointer;
            transition: transform 0.2s ease;
        }

        .variable-control__slider::-webkit-slider-thumb:hover {
            transform: scale(1.15);
        }

        .variable-control__slider::-moz-range-thumb {
            width: 20px;
            height: 20px;
            background: var(--color-white);
            border-radius: 50%;
            border: none;
            cursor: pointer;
        }

        .variable-control__range {
            display: flex;
            justify-content: space-between;
            font-size: 0.75rem;
            color: var(--color-gray-500);
            margin-top: var(--spacing-xs);
        }

    </style>
</head>
<body>
    <!-- Header (rendered by main.js) -->
    <div id="header-placeholder"></div>

    <!-- Page Header -->
    <section class="section" style="padding-top: 150px; padding-bottom: var(--spacing-lg);">
        <div class="container">
            <h1 class="mb-md" data-i18n="investment.title">Revenue and Cost</h1>
            <p class="hero__tagline" style="font-size: 1.25rem;" data-i18n="investment.subtitle">Detailed costs and revenue projections</p>
        </div>
    </section>

    <!-- Venue Scenarios -->
    <section class="section" style="padding-top: 0; padding-bottom: var(--spacing-xl);">
        <div class="container">
            <p style="text-align: center; color: var(--color-gray-400); margin-bottom: var(--spacing-xl);" data-i18n="scenarios.intro">Each scenario represents a different venue capacity, with corresponding investment requirements and projected returns. All figures based on standard operating assumptions.</p>

            <div class="scenario-grid">
                <!-- Small Venue -->
                <div class="scenario-card" data-capacity="150">
                    <div class="scenario-card__header">
                        <div class="scenario-card__size" data-i18n="scenarios.sizes.small">Small Venue</div>
                        <div class="scenario-card__capacity">150 <span data-i18n="scenarios.people">people</span></div>
                    </div>

                    <div class="scenario-card__metric">
                        <div class="scenario-card__label" data-i18n="scenarios.metrics.partnerInvestment">Partner Investment</div>
                        <div class="scenario-card__value" id="scenario150Investment">$190K</div>
                    </div>

                    <div class="scenario-card__metric">
                        <div class="scenario-card__label" data-i18n="scenarios.metrics.weeklyRevenue">Weekly Revenue</div>
                        <div class="scenario-card__value scenario-card__value--muted" id="scenario150Weekly">$56,000</div>
                    </div>

                    <div class="scenario-card__divider"></div>

                    <div class="scenario-card__metric">
                        <div class="scenario-card__label" data-i18n="scenarios.metrics.partnerMonthlyProfit">Partner Monthly Profit</div>
                        <div class="scenario-card__value scenario-card__value--highlight" id="scenario150Monthly">$104,000</div>
                    </div>

                    <div class="scenario-card__metric">
                        <div class="scenario-card__label" data-i18n="scenarios.metrics.partnerAnnual">Partner Annual</div>
                        <div class="scenario-card__value" id="scenario150Annual">$1.2M</div>
                    </div>

                    <div class="scenario-card__footer">
                        <div class="scenario-card__breakeven"><span data-i18n="scenarios.metrics.breakeven">Breakeven</span>: <strong id="scenario150Breakeven">~2 months</strong></div>
                    </div>
                </div>

                <!-- Large Venue -->
                <div class="scenario-card active" data-capacity="350">
                    <div class="scenario-card__header">
                        <div class="scenario-card__size" data-i18n="scenarios.sizes.large">Large Venue</div>
                        <div class="scenario-card__capacity">350 <span data-i18n="scenarios.people">people</span></div>
                    </div>

                    <div class="scenario-card__metric">
                        <div class="scenario-card__label" data-i18n="scenarios.metrics.partnerInvestment">Partner Investment</div>
                        <div class="scenario-card__value" id="scenario350Investment">$250K</div>
                    </div>

                    <div class="scenario-card__metric">
                        <div class="scenario-card__label" data-i18n="scenarios.metrics.weeklyRevenue">Weekly Revenue</div>
                        <div class="scenario-card__value scenario-card__value--muted" id="scenario350Weekly">$131,000</div>
                    </div>

                    <div class="scenario-card__divider"></div>

                    <div class="scenario-card__metric">
                        <div class="scenario-card__label" data-i18n="scenarios.metrics.partnerMonthlyProfit">Partner Monthly Profit</div>
                        <div class="scenario-card__value scenario-card__value--highlight" id="scenario350Monthly">$272,000</div>
                    </div>

                    <div class="scenario-card__metric">
                        <div class="scenario-card__label" data-i18n="scenarios.metrics.partnerAnnual">Partner Annual</div>
                        <div class="scenario-card__value" id="scenario350Annual">$3.3M</div>
                    </div>

                    <div class="scenario-card__footer">
                        <div class="scenario-card__breakeven"><span data-i18n="scenarios.metrics.breakeven">Breakeven</span>: <strong id="scenario350Breakeven">~1 month</strong></div>
                    </div>
                </div>
            </div>

            <p style="text-align: center; font-size: 0.75rem; color: var(--color-gray-500);" data-i18n="scenarios.excludesNote">Investment excludes technology, equipment & projectors (provided by partner)</p>
        </div>
    </section>

    <!-- Breakdown Calculator -->
    <section class="section" style="padding-top: 0;">
        <div class="container">
            <!-- Variables Section -->
            <div class="variables-section">
                <div class="variables-section__title" data-i18n="investment.adjustVariables">Adjust Variables</div>
                <div class="variables-grid">
                    <div class="variable-control">
                        <div class="variable-control__label" data-i18n="investment.variables.daysPerWeek">Days per Week</div>
                        <div class="variable-control__value"><span id="daysValue">4</span> <span data-i18n="investment.variables.days">days</span></div>
                        <input type="range" class="variable-control__slider" id="daysSlider" min="4" max="7" value="4">
                        <div class="variable-control__range">
                            <span>4</span>
                            <span>7</span>
                        </div>
                    </div>
                    <div class="variable-control">
                        <div class="variable-control__label" data-i18n="investment.variables.showsPerDay">Shows per Day</div>
                        <div class="variable-control__value"><span id="showsValue">3</span> <span data-i18n="investment.variables.shows">shows</span></div>
                        <input type="range" class="variable-control__slider" id="showsSlider" min="2" max="5" value="3">
                        <div class="variable-control__range">
                            <span>2</span>
                            <span>5</span>
                        </div>
                    </div>
                    <div class="variable-control">
                        <div class="variable-control__label" data-i18n="investment.variables.occupancy">Projected Occupancy</div>
                        <div class="variable-control__value"><span id="occupancyValue">70</span><span>%</span></div>
                        <input type="range" class="variable-control__slider" id="occupancySlider" min="50" max="100" value="70" step="5">
                        <div class="variable-control__range">
                            <span>50%</span>
                            <span>100%</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Breakdown Grid -->
            <div class="breakdown-grid">
                <!-- Revenue Breakdown -->
                <div class="breakdown-card">
                    <div class="breakdown-card__title" data-i18n="investment.revenue.title">Weekly Revenue</div>

                    <div class="breakdown-row">
                        <span class="breakdown-row__label" data-i18n="investment.revenue.ticketsPerWeek">Tickets per week</span>
                        <span class="breakdown-row__value" id="ticketsPerWeek">2,100</span>
                    </div>

                    <div class="breakdown-row breakdown-row--slider">
                        <span class="breakdown-row__label" data-i18n="investment.revenue.ticketPrice">Ticket price</span>
                        <span class="breakdown-row__value" id="ticketPriceDisplay">$32</span>
                        <div class="breakdown-row__slider">
                            <input type="range" id="ticketPriceSlider" min="25" max="50" value="32">
                            <span class="breakdown-row__slider-label">$25-50</span>
                        </div>
                    </div>

                    <div class="breakdown-row">
                        <span class="breakdown-row__label" data-i18n="investment.revenue.ticketRevenue">Ticket revenue</span>
                        <span class="breakdown-row__value" id="ticketRevenue">$67,200</span>
                    </div>

                    <div class="breakdown-row">
                        <span class="breakdown-row__label" data-i18n="investment.revenue.vipUpgrades">VIP upgrades (10%)</span>
                        <span class="breakdown-row__value" id="vipRevenue">$9,450</span>
                    </div>

                    <div class="breakdown-row">
                        <span class="breakdown-row__label" data-i18n="investment.revenue.merchandise">Merchandise</span>
                        <span class="breakdown-row__value" id="merchRevenue">$8,820</span>
                    </div>

                    <div class="breakdown-row">
                        <span class="breakdown-row__label" data-i18n="investment.revenue.concessions">Concessions</span>
                        <span class="breakdown-row__value" id="concessionsRevenue">$7,350</span>
                    </div>

                    <div class="breakdown-row">
                        <span class="breakdown-row__label" data-i18n="investment.revenue.photobooth">Photobooth</span>
                        <span class="breakdown-row__value" id="photoboothRevenue">$1,092</span>
                    </div>

                    <div class="breakdown-row breakdown-row--total">
                        <span class="breakdown-row__label" data-i18n="investment.revenue.weeklyTotal">Weekly Total</span>
                        <span class="breakdown-row__value" id="weeklyRevenue">$93,912</span>
                    </div>
                </div>

                <!-- Costs Breakdown -->
                <div class="breakdown-card">
                    <div class="breakdown-card__title" data-i18n="investment.costs.title">Weekly Costs</div>

                    <div class="breakdown-row breakdown-row--slider">
                        <span class="breakdown-row__label" data-i18n="investment.costs.masksCostumes">Masks & Costumes</span>
                        <span class="breakdown-row__value" id="maskCostumeCostDisplay">$5,513</span>
                        <div class="breakdown-row__slider">
                            <input type="range" id="replacementSlider" min="25" max="100" value="50">
                            <span class="breakdown-row__slider-label" id="replacementDisplay">50%</span>
                        </div>
                    </div>

                    <div class="breakdown-row">
                        <span class="breakdown-row__label" data-i18n="investment.costs.staff">Staff</span>
                        <span class="breakdown-row__value" id="staffCost">$6,000</span>
                    </div>

                    <div class="breakdown-row">
                        <span class="breakdown-row__label" data-i18n="investment.costs.management">Management</span>
                        <span class="breakdown-row__value">$4,800</span>
                    </div>

                    <div class="breakdown-row">
                        <span class="breakdown-row__label" data-i18n="investment.costs.marketing">Marketing (10%)</span>
                        <span class="breakdown-row__value" id="marketingCost">$6,720</span>
                    </div>

                    <div class="breakdown-row">
                        <span class="breakdown-row__label" data-i18n="investment.costs.insurance">Insurance & Misc</span>
                        <span class="breakdown-row__value">$3,000</span>
                    </div>

                    <div class="breakdown-row breakdown-row--total">
                        <span class="breakdown-row__label" data-i18n="investment.costs.weeklyTotal">Weekly Total</span>
                        <span class="breakdown-row__value" id="weeklyCosts">$26,033</span>
                    </div>
                </div>
            </div>

            <!-- Results Summary -->
            <div class="results-summary">
                <div class="results-summary__grid">
                    <div>
                        <div class="results-summary__item-label" data-i18n="investment.results.weeklyProfit">Weekly Profit</div>
                        <div class="results-summary__item-value" id="weeklyProfit">$67,879</div>
                    </div>
                    <div>
                        <div class="results-summary__item-label" data-i18n="investment.results.monthlyProfit">Monthly Profit</div>
                        <div class="results-summary__item-value" id="monthlyProfit">$271,516</div>
                    </div>
                    <div>
                        <div class="results-summary__item-label" data-i18n="investment.results.annualProfit">Annual Profit</div>
                        <div class="results-summary__item-value" id="annualProfit">$3.3M</div>
                    </div>
                    <div>
                        <div class="results-summary__item-label" data-i18n="investment.results.breakeven">Breakeven</div>
                        <div class="results-summary__item-value" id="breakevenPeriod">~2 mo</div>
                    </div>
                </div>
            </div>

            <!-- CTA Section -->
            <div class="export-section">
                <a href="investment-requirements.html" class="btn btn--primary btn--large" data-i18n="investment.cta">
                    View Investment Requirements
                </a>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer__inner">
                <p class="footer__text">
                    &copy; 2026 <span data-i18n="footer.copyright">Real Self Experience. All rights reserved.</span>
                </p>
            </div>
        </div>
    </footer>

    <!-- Scripts -->
    <script src="js/main.js"></script>
    <script>
        // Investment data by capacity (excludes technology/equipment/projectors)
        const investments = {
            150: { value: 190000 },
            350: { value: 250000 }
        };

        // Current state
        let currentCapacity = 350;
        let daysPerWeek = 4;
        let showsPerDay = 3;
        let occupancy = 70;
        let ticketPrice = 32;
        let replacementRate = 50;

        // DOM elements
        const scenarioCards = document.querySelectorAll('.scenario-card');
        const ticketPriceSlider = document.getElementById('ticketPriceSlider');
        const replacementSlider = document.getElementById('replacementSlider');
        const daysSlider = document.getElementById('daysSlider');
        const showsSlider = document.getElementById('showsSlider');
        const occupancySlider = document.getElementById('occupancySlider');

        // Select capacity and sync all UI elements
        function selectCapacity(capacity) {
            currentCapacity = capacity;

            // Update scenario cards
            scenarioCards.forEach(card => {
                const isActive = parseInt(card.dataset.capacity) === capacity;
                card.classList.toggle('active', isActive);
            });

            calculate();
        }

        // Format currency
        function formatCurrency(num) {
            if (num >= 1000000) {
                return '$' + (num / 1000000).toFixed(1) + 'M';
            }
            return '$' + num.toLocaleString();
        }

        // Format investment as shorthand (e.g., $185K)
        function formatInvestment(num) {
            return '$' + Math.round(num / 1000) + 'K';
        }

        // Calculate values for a given capacity and update its scenario card
        function calculateForCapacity(capacity) {
            const tickets = Math.round(capacity * daysPerWeek * showsPerDay * (occupancy / 100));
            const ticketRev = tickets * ticketPrice;
            const vipRev = tickets * 0.1 * 45;
            const merchRev = tickets * 0.7 * 6;
            const concessionsRev = tickets * 0.7 * 5;
            const photoboothRev = tickets * 0.13 * 4;
            const totalRevenue = ticketRev + vipRev + merchRev + concessionsRev + photoboothRev;

            const maskCostumeCost = tickets * (replacementRate / 100) * 6;
            const staffCount = Math.ceil(capacity / 25);
            const staffCost = staffCount * daysPerWeek * showsPerDay * 50;
            const managementCost = 4800;
            const marketingCost = ticketRev * 0.1;
            const insuranceCost = 3000;
            const totalCosts = maskCostumeCost + staffCost + managementCost + marketingCost + insuranceCost;

            const weeklyProfit = totalRevenue - totalCosts;
            const monthlyProfit = weeklyProfit * 4;
            const annualProfit = monthlyProfit * 12;
            const breakeven = monthlyProfit > 0 ? Math.ceil(investments[capacity].value / monthlyProfit) : 99;

            return {
                weeklyRevenue: totalRevenue,
                monthlyProfit: monthlyProfit,
                annualProfit: annualProfit,
                breakeven: breakeven
            };
        }

        // Update scenario cards with calculated values
        function updateScenarioCards() {
            [150, 350].forEach(cap => {
                const result = calculateForCapacity(cap);

                const investmentEl = document.getElementById(`scenario${cap}Investment`);
                const weeklyEl = document.getElementById(`scenario${cap}Weekly`);
                const monthlyEl = document.getElementById(`scenario${cap}Monthly`);
                const annualEl = document.getElementById(`scenario${cap}Annual`);
                const breakevenEl = document.getElementById(`scenario${cap}Breakeven`);

                if (investmentEl) investmentEl.textContent = formatInvestment(investments[cap].value);
                if (weeklyEl) weeklyEl.textContent = formatCurrency(result.weeklyRevenue);
                if (monthlyEl) monthlyEl.textContent = formatCurrency(result.monthlyProfit);
                if (annualEl) annualEl.textContent = formatCurrency(result.annualProfit);
                if (breakevenEl) breakevenEl.textContent = `~${result.breakeven} months`;
            });
        }

        // Calculate and update display
        function calculate() {
            // Calculate tickets based on variables
            const tickets = Math.round(currentCapacity * daysPerWeek * showsPerDay * (occupancy / 100));
            const investment = investments[currentCapacity];

            // Revenue
            const ticketRev = tickets * ticketPrice;
            const vipRev = tickets * 0.1 * 45;
            const merchRev = tickets * 0.7 * 6;
            const concessionsRev = tickets * 0.7 * 5;
            const photoboothRev = tickets * 0.13 * 4;
            const totalRevenue = ticketRev + vipRev + merchRev + concessionsRev + photoboothRev;

            // Costs
            const maskCostumeCost = tickets * (replacementRate / 100) * 6;
            const staffCount = Math.ceil(currentCapacity / 25);
            const staffCost = staffCount * daysPerWeek * showsPerDay * 50;
            const managementCost = 4800;
            const marketingCost = ticketRev * 0.1;
            const insuranceCost = 3000;
            const totalCosts = maskCostumeCost + staffCost + managementCost + marketingCost + insuranceCost;

            // Profit
            const weeklyProfit = totalRevenue - totalCosts;
            const monthlyProfit = weeklyProfit * 4;
            const annualProfit = monthlyProfit * 12;
            const breakeven = monthlyProfit > 0 ? Math.ceil(investment.value / monthlyProfit) : 99;

            // Update display
            document.getElementById('ticketsPerWeek').textContent = tickets.toLocaleString();
            document.getElementById('ticketPriceDisplay').textContent = '$' + ticketPrice;
            document.getElementById('ticketRevenue').textContent = formatCurrency(ticketRev);
            document.getElementById('vipRevenue').textContent = formatCurrency(vipRev);
            document.getElementById('merchRevenue').textContent = formatCurrency(merchRev);
            document.getElementById('concessionsRevenue').textContent = formatCurrency(concessionsRev);
            document.getElementById('photoboothRevenue').textContent = formatCurrency(photoboothRev);
            document.getElementById('weeklyRevenue').textContent = formatCurrency(totalRevenue);

            document.getElementById('maskCostumeCostDisplay').textContent = formatCurrency(maskCostumeCost);
            document.getElementById('replacementDisplay').textContent = replacementRate + '%';
            document.getElementById('staffCost').textContent = formatCurrency(staffCost);
            document.getElementById('marketingCost').textContent = formatCurrency(marketingCost);
            document.getElementById('weeklyCosts').textContent = formatCurrency(totalCosts);

            document.getElementById('weeklyProfit').textContent = formatCurrency(weeklyProfit);
            document.getElementById('monthlyProfit').textContent = formatCurrency(monthlyProfit);
            document.getElementById('annualProfit').textContent = formatCurrency(annualProfit);
            document.getElementById('breakevenPeriod').textContent = '~' + breakeven + ' mo';

            // Update variable displays
            document.getElementById('daysValue').textContent = daysPerWeek;
            document.getElementById('showsValue').textContent = showsPerDay;
            document.getElementById('occupancyValue').textContent = occupancy;

            // Update scenario cards
            updateScenarioCards();
        }

        // Event listeners for scenario cards
        scenarioCards.forEach(card => {
            card.addEventListener('click', () => {
                selectCapacity(parseInt(card.dataset.capacity));
            });

            // Touch feedback for mobile
            card.addEventListener('touchstart', () => {
                card.style.transform = 'scale(0.98)';
            }, { passive: true });

            card.addEventListener('touchend', () => {
                card.style.transform = '';
            }, { passive: true });
        });

        ticketPriceSlider.addEventListener('input', (e) => {
            ticketPrice = parseInt(e.target.value);
            calculate();
        });

        replacementSlider.addEventListener('input', (e) => {
            replacementRate = parseInt(e.target.value);
            calculate();
        });

        // Variable sliders
        daysSlider.addEventListener('input', (e) => {
            daysPerWeek = parseInt(e.target.value);
            calculate();
        });

        showsSlider.addEventListener('input', (e) => {
            showsPerDay = parseInt(e.target.value);
            calculate();
        });

        occupancySlider.addEventListener('input', (e) => {
            occupancy = parseInt(e.target.value);
            calculate();
        });

        // Initial calculation
        calculate();
    </script>
</body>
</html>
