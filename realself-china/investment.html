<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Detailed financial breakdown for Real Self partnership - customize scenarios and export projections.">
    <title>Breakdown | Real Self</title>

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Space+Grotesk:wght@400;500;700&display=swap" rel="stylesheet">

    <!-- Styles -->
    <link rel="stylesheet" href="css/styles.css">

    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><rect fill='%23000' width='100' height='100'/><text y='.9em' font-size='90' fill='%23fff'>R</text></svg>">

    <style>
        /* Preset Selector */
        .preset-selector {
            display: flex;
            justify-content: center;
            gap: var(--spacing-md);
            margin-bottom: var(--spacing-3xl);
        }

        .preset-btn {
            background: var(--color-gray-900);
            border: 1px solid var(--color-gray-700);
            color: var(--color-white);
            padding: var(--spacing-lg) var(--spacing-2xl);
            font-family: var(--font-display);
            font-size: 1.125rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
            min-width: 140px;
        }

        .preset-btn:hover {
            border-color: var(--color-gray-500);
            background: var(--color-gray-800);
        }

        .preset-btn.active {
            background: var(--color-white);
            color: var(--color-black);
            border-color: var(--color-white);
        }

        .preset-btn span {
            display: block;
            font-size: 0.75rem;
            font-weight: 400;
            color: var(--color-gray-400);
            margin-top: 0.25rem;
        }

        .preset-btn.active span {
            color: var(--color-gray-600);
        }

        /* Breakdown Grid */
        .breakdown-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: var(--spacing-2xl);
        }

        @media (max-width: 900px) {
            .breakdown-grid {
                grid-template-columns: 1fr;
            }
        }

        /* Breakdown Cards */
        .breakdown-card {
            background: var(--color-gray-900);
            border: 1px solid var(--color-gray-700);
            padding: var(--spacing-xl);
        }

        .breakdown-card__title {
            font-size: 0.75rem;
            font-weight: 600;
            letter-spacing: 0.1em;
            text-transform: uppercase;
            color: var(--color-gray-400);
            margin-bottom: var(--spacing-lg);
            padding-bottom: var(--spacing-md);
            border-bottom: 1px solid var(--color-gray-700);
        }

        /* Editable Values */
        .breakdown-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: var(--spacing-sm) 0;
            border-bottom: 1px solid var(--color-gray-800);
        }

        .breakdown-row:last-child {
            border-bottom: none;
        }

        .breakdown-row__label {
            font-size: 0.875rem;
            color: var(--color-gray-300);
        }

        .breakdown-row__value {
            font-family: var(--font-display);
            font-weight: 600;
            font-size: 1rem;
            text-align: right;
            min-width: 100px;
        }

        /* Slider row */
        .breakdown-row--slider {
            flex-wrap: wrap;
        }

        .breakdown-row--slider .breakdown-row__label {
            flex: 1;
        }

        .breakdown-row--slider .breakdown-row__value {
            min-width: 80px;
        }

        .breakdown-row__slider {
            width: 100%;
            display: flex;
            align-items: center;
            gap: var(--spacing-sm);
            margin-top: var(--spacing-xs);
            padding-top: var(--spacing-xs);
        }

        .breakdown-row__slider input[type="range"] {
            flex: 1;
            height: 4px;
            -webkit-appearance: none;
            appearance: none;
            background: var(--color-gray-700);
            border-radius: 2px;
            cursor: pointer;
        }

        .breakdown-row__slider input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 14px;
            height: 14px;
            background: var(--color-white);
            border-radius: 50%;
            cursor: pointer;
        }

        .breakdown-row__slider-label {
            font-size: 0.75rem;
            color: var(--color-gray-500);
            min-width: 45px;
            text-align: right;
        }

        /* Summary row (totals) */
        .breakdown-row--total {
            margin-top: var(--spacing-md);
            padding-top: var(--spacing-md);
            border-top: 2px solid var(--color-gray-600);
            border-bottom: none;
        }

        .breakdown-row--total .breakdown-row__label {
            font-weight: 600;
            color: var(--color-white);
        }

        .breakdown-row--total .breakdown-row__value {
            font-size: 1.25rem;
            color: var(--color-white);
        }

        /* Highlight row */
        .breakdown-row--highlight {
            background: var(--color-gray-800);
            margin: 0 calc(var(--spacing-xl) * -1);
            padding: var(--spacing-md) var(--spacing-xl);
        }

        .breakdown-row--highlight .breakdown-row__value {
            font-size: 1.5rem;
        }

        /* Results Summary */
        .results-summary {
            background: var(--color-gray-900);
            border: 2px solid var(--color-white);
            padding: var(--spacing-2xl);
            margin-top: var(--spacing-2xl);
        }

        .results-summary__grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: var(--spacing-xl);
            text-align: center;
        }

        @media (max-width: 768px) {
            .results-summary__grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        .results-summary__item-label {
            font-size: 0.75rem;
            color: var(--color-gray-400);
            text-transform: uppercase;
            letter-spacing: 0.05em;
            margin-bottom: var(--spacing-xs);
        }

        .results-summary__item-value {
            font-family: var(--font-display);
            font-size: 1.75rem;
            font-weight: 700;
        }

        /* Export button */
        .export-section {
            text-align: center;
            margin-top: var(--spacing-2xl);
        }

        /* Equipment table styling */
        .equipment-table {
            margin-top: var(--spacing-xl);
        }

        .equipment-table td:first-child {
            color: var(--color-gray-300);
        }

        .equipment-table .highlight-col {
            background: var(--color-gray-800);
            font-weight: 600;
        }

        /* Chart container */
        .chart-section {
            margin-top: var(--spacing-3xl);
        }

        .chart-container {
            background: var(--color-gray-900);
            border: 1px solid var(--color-gray-700);
            padding: var(--spacing-xl);
        }

        .chart-container__title {
            font-size: 0.75rem;
            font-weight: 600;
            letter-spacing: 0.1em;
            text-transform: uppercase;
            color: var(--color-gray-400);
            margin-bottom: var(--spacing-lg);
        }

        /* Variables Section */
        .variables-section {
            background: var(--color-gray-900);
            border: 1px solid var(--color-gray-700);
            padding: var(--spacing-xl) var(--spacing-2xl);
            margin-bottom: var(--spacing-2xl);
        }

        .variables-section__title {
            font-size: 0.75rem;
            font-weight: 600;
            letter-spacing: 0.15em;
            text-transform: uppercase;
            color: var(--color-gray-400);
            margin-bottom: var(--spacing-lg);
            text-align: center;
        }

        .variables-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: var(--spacing-2xl);
        }

        @media (max-width: 768px) {
            .variables-grid {
                grid-template-columns: 1fr;
            }
        }

        .variable-control {
            text-align: center;
        }

        .variable-control__label {
            font-size: 0.875rem;
            color: var(--color-gray-300);
            margin-bottom: var(--spacing-sm);
        }

        .variable-control__value {
            font-family: var(--font-display);
            font-size: 2.5rem;
            font-weight: 700;
            color: var(--color-white);
            margin-bottom: var(--spacing-md);
        }

        .variable-control__value span {
            font-size: 1rem;
            font-weight: 400;
            color: var(--color-gray-400);
        }

        .variable-control__slider {
            width: 100%;
            -webkit-appearance: none;
            appearance: none;
            height: 4px;
            background: var(--color-gray-700);
            border-radius: 2px;
            outline: none;
            cursor: pointer;
        }

        .variable-control__slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 20px;
            height: 20px;
            background: var(--color-white);
            border-radius: 50%;
            cursor: pointer;
            transition: transform 0.2s ease;
        }

        .variable-control__slider::-webkit-slider-thumb:hover {
            transform: scale(1.15);
        }

        .variable-control__slider::-moz-range-thumb {
            width: 20px;
            height: 20px;
            background: var(--color-white);
            border-radius: 50%;
            border: none;
            cursor: pointer;
        }

        .variable-control__range {
            display: flex;
            justify-content: space-between;
            font-size: 0.75rem;
            color: var(--color-gray-500);
            margin-top: var(--spacing-xs);
        }
    </style>
</head>
<body>
    <!-- Header (rendered by main.js) -->
    <div id="header-placeholder"></div>

    <!-- Page Header -->
    <section class="section" style="padding-top: 150px; padding-bottom: var(--spacing-lg);">
        <div class="container">
            <h1 class="mb-md" data-i18n="investment.title">Revenue and Cost</h1>
            <p class="hero__tagline" style="font-size: 1.25rem;" data-i18n="investment.subtitle">Detailed costs and revenue projections</p>
        </div>
    </section>

    <!-- Breakdown Calculator -->
    <section class="section" style="padding-top: 0;">
        <div class="container">
            <!-- Variables Section -->
            <div class="variables-section">
                <div class="variables-section__title" data-i18n="investment.adjustVariables">Adjust Variables</div>
                <div class="variables-grid">
                    <div class="variable-control">
                        <div class="variable-control__label" data-i18n="investment.variables.daysPerWeek">Days per Week</div>
                        <div class="variable-control__value"><span id="daysValue">4</span> <span data-i18n="investment.variables.days">days</span></div>
                        <input type="range" class="variable-control__slider" id="daysSlider" min="4" max="7" value="4">
                        <div class="variable-control__range">
                            <span>4</span>
                            <span>7</span>
                        </div>
                    </div>
                    <div class="variable-control">
                        <div class="variable-control__label" data-i18n="investment.variables.showsPerDay">Shows per Day</div>
                        <div class="variable-control__value"><span id="showsValue">3</span> <span data-i18n="investment.variables.shows">shows</span></div>
                        <input type="range" class="variable-control__slider" id="showsSlider" min="2" max="5" value="3">
                        <div class="variable-control__range">
                            <span>2</span>
                            <span>5</span>
                        </div>
                    </div>
                    <div class="variable-control">
                        <div class="variable-control__label" data-i18n="investment.variables.occupancy">Projected Occupancy</div>
                        <div class="variable-control__value"><span id="occupancyValue">70</span><span>%</span></div>
                        <input type="range" class="variable-control__slider" id="occupancySlider" min="50" max="100" value="70" step="5">
                        <div class="variable-control__range">
                            <span>50%</span>
                            <span>100%</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Preset Buttons -->
            <div class="preset-selector">
                <button class="preset-btn" data-capacity="150">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="margin-right: 6px; vertical-align: middle;"><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/><circle cx="12" cy="7" r="4"/></svg>150
                    <span data-i18n="investment.presets.small">Small</span>
                </button>
                <button class="preset-btn active" data-capacity="250">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="margin-right: 6px; vertical-align: middle;"><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/><circle cx="12" cy="7" r="4"/></svg>250
                    <span data-i18n="investment.presets.medium">Medium</span>
                </button>
                <button class="preset-btn" data-capacity="350">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="margin-right: 6px; vertical-align: middle;"><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/><circle cx="12" cy="7" r="4"/></svg>350
                    <span data-i18n="investment.presets.large">Large</span>
                </button>
            </div>

            <!-- Breakdown Grid -->
            <div class="breakdown-grid">
                <!-- Revenue Breakdown -->
                <div class="breakdown-card">
                    <div class="breakdown-card__title" data-i18n="investment.revenue.title">Weekly Revenue</div>

                    <div class="breakdown-row">
                        <span class="breakdown-row__label" data-i18n="investment.revenue.ticketsPerWeek">Tickets per week</span>
                        <span class="breakdown-row__value" id="ticketsPerWeek">2,100</span>
                    </div>

                    <div class="breakdown-row breakdown-row--slider">
                        <span class="breakdown-row__label" data-i18n="investment.revenue.ticketPrice">Ticket price</span>
                        <span class="breakdown-row__value" id="ticketPriceDisplay">$32</span>
                        <div class="breakdown-row__slider">
                            <input type="range" id="ticketPriceSlider" min="25" max="50" value="32">
                            <span class="breakdown-row__slider-label">$25-50</span>
                        </div>
                    </div>

                    <div class="breakdown-row">
                        <span class="breakdown-row__label" data-i18n="investment.revenue.ticketRevenue">Ticket revenue</span>
                        <span class="breakdown-row__value" id="ticketRevenue">$67,200</span>
                    </div>

                    <div class="breakdown-row">
                        <span class="breakdown-row__label" data-i18n="investment.revenue.vipUpgrades">VIP upgrades (10%)</span>
                        <span class="breakdown-row__value" id="vipRevenue">$9,450</span>
                    </div>

                    <div class="breakdown-row">
                        <span class="breakdown-row__label" data-i18n="investment.revenue.merchandise">Merchandise</span>
                        <span class="breakdown-row__value" id="merchRevenue">$8,820</span>
                    </div>

                    <div class="breakdown-row">
                        <span class="breakdown-row__label" data-i18n="investment.revenue.concessions">Concessions</span>
                        <span class="breakdown-row__value" id="concessionsRevenue">$7,350</span>
                    </div>

                    <div class="breakdown-row">
                        <span class="breakdown-row__label" data-i18n="investment.revenue.photobooth">Photobooth</span>
                        <span class="breakdown-row__value" id="photoboothRevenue">$1,092</span>
                    </div>

                    <div class="breakdown-row breakdown-row--total">
                        <span class="breakdown-row__label" data-i18n="investment.revenue.weeklyTotal">Weekly Total</span>
                        <span class="breakdown-row__value" id="weeklyRevenue">$93,912</span>
                    </div>
                </div>

                <!-- Costs Breakdown -->
                <div class="breakdown-card">
                    <div class="breakdown-card__title" data-i18n="investment.costs.title">Weekly Costs</div>

                    <div class="breakdown-row breakdown-row--slider">
                        <span class="breakdown-row__label" data-i18n="investment.costs.masksCostumes">Masks & Costumes</span>
                        <span class="breakdown-row__value" id="maskCostumeCostDisplay">$5,513</span>
                        <div class="breakdown-row__slider">
                            <input type="range" id="replacementSlider" min="25" max="100" value="50">
                            <span class="breakdown-row__slider-label" id="replacementDisplay">50%</span>
                        </div>
                    </div>

                    <div class="breakdown-row">
                        <span class="breakdown-row__label" data-i18n="investment.costs.staff">Staff</span>
                        <span class="breakdown-row__value" id="staffCost">$6,000</span>
                    </div>

                    <div class="breakdown-row">
                        <span class="breakdown-row__label" data-i18n="investment.costs.management">Management</span>
                        <span class="breakdown-row__value">$4,800</span>
                    </div>

                    <div class="breakdown-row">
                        <span class="breakdown-row__label" data-i18n="investment.costs.marketing">Marketing (10%)</span>
                        <span class="breakdown-row__value" id="marketingCost">$6,720</span>
                    </div>

                    <div class="breakdown-row">
                        <span class="breakdown-row__label" data-i18n="investment.costs.insurance">Insurance & Misc</span>
                        <span class="breakdown-row__value">$3,000</span>
                    </div>

                    <div class="breakdown-row breakdown-row--total">
                        <span class="breakdown-row__label" data-i18n="investment.costs.weeklyTotal">Weekly Total</span>
                        <span class="breakdown-row__value" id="weeklyCosts">$26,033</span>
                    </div>
                </div>
            </div>

            <!-- Results Summary -->
            <div class="results-summary">
                <div class="results-summary__grid">
                    <div>
                        <div class="results-summary__item-label" data-i18n="investment.results.weeklyProfit">Weekly Profit</div>
                        <div class="results-summary__item-value" id="weeklyProfit">$67,879</div>
                    </div>
                    <div>
                        <div class="results-summary__item-label" data-i18n="investment.results.monthlyProfit">Monthly Profit</div>
                        <div class="results-summary__item-value" id="monthlyProfit">$271,516</div>
                    </div>
                    <div>
                        <div class="results-summary__item-label" data-i18n="investment.results.annualProfit">Annual Profit</div>
                        <div class="results-summary__item-value" id="annualProfit">$3.3M</div>
                    </div>
                    <div>
                        <div class="results-summary__item-label" data-i18n="investment.results.breakeven">Breakeven</div>
                        <div class="results-summary__item-value" id="breakevenPeriod">~2 mo</div>
                    </div>
                </div>
            </div>

            <!-- CTA Section -->
            <div class="export-section">
                <a href="investment-requirements.html" class="btn btn--primary btn--large" data-i18n="investment.cta">
                    View Investment Requirements
                </a>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer__inner">
                <p class="footer__text">
                    &copy; 2026 <span data-i18n="footer.copyright">Real Self Experience. All rights reserved.</span>
                </p>
            </div>
        </div>
    </footer>

    <!-- Scripts -->
    <script>
        // Investment data by capacity
        const investments = {
            150: { min: 236000, max: 400000, mid: 318000 },
            250: { min: 320000, max: 550000, mid: 435000 },
            350: { min: 420000, max: 750000, mid: 585000 }
        };

        // Current state
        let currentCapacity = 250;
        let daysPerWeek = 4;
        let showsPerDay = 3;
        let occupancy = 70;
        let ticketPrice = 32;
        let replacementRate = 50;

        // DOM elements
        const presetBtns = document.querySelectorAll('.preset-btn');
        const ticketPriceSlider = document.getElementById('ticketPriceSlider');
        const replacementSlider = document.getElementById('replacementSlider');
        const daysSlider = document.getElementById('daysSlider');
        const showsSlider = document.getElementById('showsSlider');
        const occupancySlider = document.getElementById('occupancySlider');

        // Format currency
        function formatCurrency(num) {
            if (num >= 1000000) {
                return '$' + (num / 1000000).toFixed(1) + 'M';
            }
            return '$' + num.toLocaleString();
        }

        // Calculate and update display
        function calculate() {
            // Calculate tickets based on variables
            const tickets = Math.round(currentCapacity * daysPerWeek * showsPerDay * (occupancy / 100));
            const investment = investments[currentCapacity];

            // Revenue
            const ticketRev = tickets * ticketPrice;
            const vipRev = tickets * 0.1 * 45;
            const merchRev = tickets * 0.7 * 6;
            const concessionsRev = tickets * 0.7 * 5;
            const photoboothRev = tickets * 0.13 * 4;
            const totalRevenue = ticketRev + vipRev + merchRev + concessionsRev + photoboothRev;

            // Costs
            const maskCostumeCost = tickets * (replacementRate / 100) * 6; // $1.5 mask + $4.5 costume = $6
            const staffCount = Math.ceil(currentCapacity / 25);
            const staffCost = staffCount * daysPerWeek * showsPerDay * 50;
            const managementCost = 4800;
            const marketingCost = ticketRev * 0.1;
            const insuranceCost = 3000;
            const totalCosts = maskCostumeCost + staffCost + managementCost + marketingCost + insuranceCost;

            // Profit
            const weeklyProfit = totalRevenue - totalCosts;
            const monthlyProfit = weeklyProfit * 4;
            const annualProfit = monthlyProfit * 12;
            const breakeven = monthlyProfit > 0 ? Math.ceil(investment.mid / monthlyProfit) : 99;

            // Update display
            document.getElementById('ticketsPerWeek').textContent = tickets.toLocaleString();
            document.getElementById('ticketPriceDisplay').textContent = '$' + ticketPrice;
            document.getElementById('ticketRevenue').textContent = formatCurrency(ticketRev);
            document.getElementById('vipRevenue').textContent = formatCurrency(vipRev);
            document.getElementById('merchRevenue').textContent = formatCurrency(merchRev);
            document.getElementById('concessionsRevenue').textContent = formatCurrency(concessionsRev);
            document.getElementById('photoboothRevenue').textContent = formatCurrency(photoboothRev);
            document.getElementById('weeklyRevenue').textContent = formatCurrency(totalRevenue);

            document.getElementById('maskCostumeCostDisplay').textContent = formatCurrency(maskCostumeCost);
            document.getElementById('replacementDisplay').textContent = replacementRate + '%';
            document.getElementById('staffCost').textContent = formatCurrency(staffCost);
            document.getElementById('marketingCost').textContent = formatCurrency(marketingCost);
            document.getElementById('weeklyCosts').textContent = formatCurrency(totalCosts);

            document.getElementById('weeklyProfit').textContent = formatCurrency(weeklyProfit);
            document.getElementById('monthlyProfit').textContent = formatCurrency(monthlyProfit);
            document.getElementById('annualProfit').textContent = formatCurrency(annualProfit);
            document.getElementById('breakevenPeriod').textContent = '~' + breakeven + ' mo';

            // Update variable displays
            document.getElementById('daysValue').textContent = daysPerWeek;
            document.getElementById('showsValue').textContent = showsPerDay;
            document.getElementById('occupancyValue').textContent = occupancy;
        }

        // Event listeners
        presetBtns.forEach(btn => {
            btn.addEventListener('click', () => {
                presetBtns.forEach(b => b.classList.remove('active'));
                btn.classList.add('active');
                currentCapacity = parseInt(btn.dataset.capacity);
                calculate();
            });
        });

        ticketPriceSlider.addEventListener('input', (e) => {
            ticketPrice = parseInt(e.target.value);
            calculate();
        });

        replacementSlider.addEventListener('input', (e) => {
            replacementRate = parseInt(e.target.value);
            calculate();
        });

        // Variable sliders
        daysSlider.addEventListener('input', (e) => {
            daysPerWeek = parseInt(e.target.value);
            calculate();
        });

        showsSlider.addEventListener('input', (e) => {
            showsPerDay = parseInt(e.target.value);
            calculate();
        });

        occupancySlider.addEventListener('input', (e) => {
            occupancy = parseInt(e.target.value);
            calculate();
        });

        // Export PDF
        document.getElementById('exportPdf').addEventListener('click', () => {
            window.print();
        });

        // Initial calculation
        calculate();
    </script>
</body>
</html>
